---
title: "Gelato Network ãƒ¡ãƒ¢"
emoji: "ğŸ¨"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Solidity"]
published: false
---

# æ¦‚è¦
| | |
|---|---|
|ã‚µã‚¤ãƒˆ|https://www.gelato.network/|
|ãƒˆãƒ¼ã‚¯ãƒ³| [GEL](https://etherscan.io/address/0x15b7c0c907e4c6b9adaaaabc300c08991d6cea05) |

- Gelato Networkã¯ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®å®Ÿè¡Œã‚’è‡ªå‹•åŒ–ã™ã‚‹ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆ

## ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ
https://docs.gelato.network/resources/contract-addresses

# [Tutorial: Automate licking your Ice Cream NFT smart contract](https://app.gelato.network/tutorial) 
## ã‚¤ãƒ¡ãƒ¼ã‚¸å›³
// todo
- pokeme 
- tasktresury
- gelatonetowrok

## ãƒ¦ãƒ¼ã‚¶ã«ã‚ˆã‚‹å®Ÿè¡Œã®è©³ç´°
### 1. NFTã®Mint
1. Tutorialæ‰‹é †â‘ : è‡ªå‹•åŒ–å‡¦ç†å¯¾è±¡ã®NFTã‚’ç²å¾—ã™ã‚‹

### 2. å®Ÿè¡Œæ‰‹æ•°æ–™ã®ãƒ‡ãƒã‚¸ãƒƒãƒˆ
1. Tutorialæ‰‹é †â‘¡: å®Ÿè¡Œæ‰‹æ•°æ–™(Matic)ã‚’[TaskTreasuryMatic](https://polygonscan.com/address/0xa8a7bbe83960b29789d5cb06dcd2e6c1df20581c#code) ã®`depositFunds`ã‚’å®Ÿè¡Œã—ã¦ãƒ‡ãƒã‚¸ãƒƒãƒˆã™ã‚‹
    ```solidity:TaskTreasuryMatic.sol
    // mapping(address => mapping(address => uint256)) public userTokenBalance;
    userTokenBalance[_receiver][_token] =
        userTokenBalance[_receiver][_token] +
        depositAmount;

    // mapping(address => EnumerableSet.AddressSet) internal _tokenCredits;
    if (!_tokenCredits[_receiver].contains(_token))
        _tokenCredits[_receiver].add(_token);
    ```

### 3. ã‚¿ã‚¹ã‚¯ã®ä½œæˆ
1. Tutolialæ‰‹é †â‘¢ã‚’å®Œäº†ã™ã‚‹ã¨ [PokeMe](https://polygonscan.com/address/0xB3f5503f93d5Ef84b06993a1975B9D21B962892F#code) ã® `createTimedTask` ã‚’å®Ÿè¡Œã—ã¦å…¥åŠ›ã—ãŸå†…å®¹ã‚’ã‚¿ã‚¹ã‚¯ã¨ã—ã¦ç™»éŒ²
    1. `createTimedTask` ã¯ `createTask` ã‚’å®Ÿè¡Œã—ã¦taskã‚’ä¿å­˜ã™ã‚‹
        ```solidity:PokeMe.sol
        // mapping(address => EnumerableSet.Bytes32Set) internal _createdTasks;
        _createdTasks[msg.sender].add(task);

        // mapping(bytes32 => address) public taskCreator;
        taskCreator[task] = msg.sender;

        // mapping(bytes32 => address) public execAddresses;
        execAddresses[task] = _execAddress;
        ```
    1. ä½œæˆã—ãŸtaskã¯timedTaskã«ã‚‚ä¿å­˜ã™ã‚‹
        ```solidity:PokeMe.sol
        // struct Time {
        //     uint128 nextExec;
        //     uint128 interval;
        // }
        // mapping(bytes32 => Time) public timedTask;
        timedTask[task] = Time({nextExec: nextExec, interval: _interval});
        emit TimerSet(task, nextExec, _interval);
        ```

### 4. Executorã«ã‚ˆã‚‹ã‚¿ã‚¹ã‚¯ã®å®Ÿè¡Œ
1. ExecutorãŒ[Gelato](https://polygonscan.com/address/0x7598e84b2e114ab62cab288ce5f7d5f6bad35bba#code)ï¼ˆãƒ—ãƒ­ã‚­ã‚·å…ˆï¼š[ExecFacet](https://polygonscan.com/address/0x27ee02084023fd171e9798d33c8bba4255b24775#code)ï¼‰ã®`exec`ã‚’å®Ÿè¡Œã™ã‚‹
    ```
    function exec(
        address _service,
        bytes calldata _data,
        address _creditToken
    ) external {
        _creditToken;

        (bool success, bytes memory returndata) = _service.call(_data);
        if (!success) returndata.revertWithError("ExecFacet.exec:");

        emit LogExecSuccess(msg.sender, _service, success);
    }
    ```
    - addressã¯PokeMe(https://polygonscan.com/address/0xB3f5503f93d5Ef84b06993a1975B9D21B962892F#code)
    - .callã§`hoge`ã‚’å®Ÿè¡Œã™ã‚‹

## Executorã«ã‚ˆã‚‹å®Ÿè¡Œã®è©³ç´°
### 1. executorã®ç™»éŒ²
// todo
- https://github.com/gelatodigital/gelato-uniswap


# ãƒ¡ãƒ¢
- executorè¤‡æ•°åãŒåŒã˜ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¦ç‰‡æ–¹ãŒå¤±æ•—ã—ãŸã‚Šã—ãªã„ï¼Ÿ
- ãƒ‡ãƒã‚¸ãƒƒãƒˆã—ãŸMATICã®åˆ©ç”¨ç®‡æ‰€
- GEL Token?
- Forwarder (resolver)
    - resolverã«ã¯[Forwarder](https://polygonscan.com/address/0xcd8ee05b92746ef168460d8809bdb26b7321ec30#code)ãŒè¨­å®šã•ã‚Œã‚‹


# å‚è€ƒ
- [å…¬å¼Docs](https://docs.gelato.network/introduction/master)
- [ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®è‡ªå‹•åŒ–ã‚’å®Ÿç¾ã™ã‚‹Gelato Network](https://vividot-de.fi/entry/Gelato-Network)
- [github/gelatodigital/gelato-network](https://github.com/gelatodigital/gelato-network)
- [github/gelatodigital/gelato-uniswap](https://github.com/gelatodigital/gelato-uniswap)
